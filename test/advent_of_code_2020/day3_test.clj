(ns advent-of-code-2020.day3-test
  (:require [advent-of-code-2020.day3 :refer :all]
            [clojure.test :refer :all]))

(def test-input
  "..##.........##.........##.........##.........##.........##.......
#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..
.#....#..#..#....#..#..#....#..#..#....#..#..#....#..#..#....#..#.
..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#
.#...##..#..#...##..#..#...##..#..#...##..#..#...##..#..#...##..#.
..#.##.......#.##.......#.##.......#.##.......#.##.......#.##.....
.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#
.#........#.#........#.#........#.#........#.#........#.#........#
#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...
#...##....##...##....##...##....##...##....##...##....##...##....#
.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#")

(def test-input2
  "..##.......
#...#...#..
.#....#..#.
..#.#...#.#
.#...##..#.
..#.##.....
.#.#.#....#
.#........#
#.##...#...
#...##....#
.#..#...#.#")

(deftest test-day3-1
  (is (= (problem1 test-input)
         7))
  (is (= (problem1 test-input2)
         7)))

(deftest test-day3-2
  (is (= (problem2 test-input2 [[1 1]
                                [3 1]
                                [5 1]
                                [7 1]
                                [1 2]])
         336)))

(apply *
       (map #(apply (partial problem1 test-input) %)
            [[1 1]
             [3 1]
             [5 1]
             [7 1]
             [1 2]]))
